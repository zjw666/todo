!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){"use strict";n(9);var r=n(1),o=n(3),i=n(5),u=n(7);function a(e){var t="";if(e instanceof Object)for(var n in e)t&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]);return t}NEJ.define(["base/element","base/event","util/ajax/xdr"],function(e,t,n){var l=new r,s=new o,c=new i,d=new u,p=e._$create("div");p.innerHTML=l.tpl({message:"请输入您的昵称："});var f=e._$create("div");f.innerHTML=s.tpl();var _=e._$create("span");_.innerHTML=c.tpl();var m=e._$get("app");m.appendChild(p),m.appendChild(f);var v=e._$get("btn");document.getElementsByTagName("form")[0].insertBefore(_,v);var b="",g=e._$get("list");t._$addEvent(g,"click",function(t){var r=t.target,o=a({user:r.getAttribute("user"),event:r.previousSibling.previousSibling.innerText,time:r.nextSibling.nextSibling.innerText});n._$request("http://localhost:3000/remove",{type:"json",data:o,method:"POST",timeout:5e3,mode:0,onload:function(e){"0"==e.status&&alert(e.message)},onerror:function(e){alert(e.message)}}),e._$remove(r.parentNode,!0)}),t._$addEvent("btn","click",function(t){var r=e._$get("inputbox"),o=_.firstChild,i=r.value;if(i){if("提交"!=t.target.innerText)t.target.innerText="提交",b=i,i.length>5&&(i=i.slice(0,3)+"..."),document.getElementsByTagName("label")[0].innerText=i+", 请输入你的事件：",r.setAttribute("placeholder","例如：明天拜访XXX老师！"),o.removeAttribute("hidden"),n._$request("http://localhost:3000/init",{type:"text/html",data:a({user:b}),method:"POST",timeout:5e3,mode:0,onload:function(t){t&&(e._$get("list").innerHTML=t)},onerror:function(e){alert(e.message)}});else{if(!o.value)return void alert("事件时间不能为空");var u=a({user:b,event:i,time:o.value});n._$request("http://localhost:3000/save",{type:"json",data:u,method:"POST",timeout:5e3,mode:0,onload:function(e){"0"==e.status&&alert(e.message)},onerror:function(e){alert(e.message)}});var l=e._$create("div");l.innerHTML=d.tpl({event:i,time:o.value,user:b}),l.firstChild.childNodes[3].setAttribute("index",document.getElementsByTagName("li").length),g.appendChild(l.firstChild),o.value=""}r.value=""}else alert("输入不能为空")},!1)}),console.log("我们在生产环境")},function(e,t,n){"use strict";var r=n(2);n(11);e.exports=function(){return{tpl:r}}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="header">\r\n\t<h2>Todo List</h2>\r\n\t<form>\r\n\t\t<label for="inputbox">'+(null==(__t=message)?"":__t)+'</label>\r\n\t\t<input type="text" name="item" id="inputbox" maxlength="15" placeholder="不超过15个字符" required />\r\n\t\t<button type="button" id="btn">登录</button>\r\n\t</form>\r\n</div>';return __p}},function(e,t,n){"use strict";n(12);var r=n(4);e.exports=function(){return{tpl:r}}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="body">\r\n\t<ul id="list">\r\n\t</ul>\r\n</div>';return __p}},function(e,t,n){"use strict";var r=n(6);n(13);e.exports=function(){return{tpl:r}}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<input type="text" name="date" id="datebox" maxlength="10" placeholder="选择日期" readonly="readonly" onClick="WdatePicker()" required hidden />';return __p}},function(e,t,n){"use strict";var r=n(8);n(14),e.exports=function(){return{tpl:r}}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<li class="item">\r\n\t<span class="event">'+(null==(__t=event)?"":__t)+'</span>\r\n\t<span class="close" user='+(null==(__t=user)?"":__t)+' >x</span>\r\n\t<span class="time">'+(null==(__t=time)?"":__t)+"</span>\r\n</li>";return __p}},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);